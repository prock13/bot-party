<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Bot Party ‚Äî Spyfall Stream</title>
	<link rel="stylesheet" href="/styles.css">
</head>

<body>
	<header>
		<h1>üïµÔ∏è Bot Party ‚Äî Spyfall</h1>
		<div style="display:flex;align-items:center;gap:0.75rem;">
			<span id="status" class="status">Ready</span>
			<button id="analyticsBtn" class="back-btn">üìä Analytics</button>
			<button id="backBtn" class="back-btn" style="display:none;">‚Üê New Game</button>
		</div>
	</header>

	<!-- Config Panel (centered) -->
	<div id="configPanel">
		<div class="config-card">
			<h2>üéÆ Game Setup</h2>

			<div class="config-section">
				<div class="config-label">
					<span>Players</span>
					<span id="playerCount">3 players</span>
				</div>
				<div id="playerList" class="player-list">
					<!-- Player slots will be added here -->
				</div>
				<button type="button" class="add-player-btn" id="addPlayerBtn">+ Add Player</button>
			</div>

			<div class="config-section">
				<div class="setting">
					<label for="locationSelect">Location</label>
					<select id="locationSelect" style="width:100%;">
						<option value="">Random</option>
						<!-- Locations will be populated here -->
					</select>
				</div>
				<div class="location-controls">
					<input type="file" id="locationFileInput" accept=".json" style="display:none;">
					<button type="button" class="secondary-btn" id="importLocationBtn">Import Locations</button>
					<button type="button" class="secondary-btn" id="exportLocationBtn">Export All</button>
					<span id="locationCount" class="location-count">30 locations</span>
				</div>
			</div>

			<div class="config-section">
				<div class="setting">
					<label for="roundsInput">Rounds</label>
					<input type="number" id="roundsInput" value="9" min="1" max="30" style="width:100%;">
				</div>
			</div>

		<div class="config-section">
			<label class="checkbox-setting">
				<input type="checkbox" id="allowEarlyVote" checked>
				<span>Allow early accusations (once per player)</span>
			</label>
		</div>

		<button type="button" class="start-btn" id="startBtn">Start Game</button>
		</div>
	</div>

	<!-- Game Panel (log output) -->
	<div id="gamePanel">
		<div id="log"></div>
	</div>

	<!-- Analytics Panel -->
	<div id="analyticsPanel" style="display:none;">
		<div class="analytics-container">
			<h2>üìä Game Analytics</h2>
			
			<div class="analytics-grid">
				<!-- Summary Stats -->
				<div class="analytics-card">
					<h3>Overview</h3>
					<div id="summaryStats">
						<div class="stat-row">
							<span class="stat-label">Total Games:</span>
							<span class="stat-value" id="totalGames">-</span>
						</div>
						<div class="stat-row">
							<span class="stat-label">Avg. Duration:</span>
							<span class="stat-value" id="avgDuration">-</span>
						</div>
						<div class="stat-row">
							<span class="stat-label">Avg. Turns:</span>
							<span class="stat-value" id="avgTurns">-</span>
						</div>
					</div>
				</div>

				<!-- Win Rates by Role -->
				<div class="analytics-card">
					<h3>Win Rates by Role</h3>
					<div id="roleStats">
						<div class="stat-row">
							<span class="stat-label">Spy Wins:</span>
							<span class="stat-value" id="spyWinRate">-</span>
						</div>
						<div class="stat-row">
							<span class="stat-label">Civilian Wins:</span>
							<span class="stat-value" id="civilianWinRate">-</span>
						</div>
					</div>
				</div>

				<!-- Provider Performance -->
				<div class="analytics-card">
					<h3>AI Provider Performance</h3>
					<div id="providerStats">
						<!-- Provider stats will be populated here -->
					</div>
				</div>

				<!-- Location Stats -->
				<div class="analytics-card">
					<h3>Top Locations</h3>
					<div id="locationStats">
						<!-- Location stats will be populated here -->
					</div>
				</div>
			</div>

			<!-- Recent Games -->
			<div class="analytics-card" style="margin-top: 1rem;">
				<h3>Recent Games</h3>
				<div id="recentGames" class="games-list">
					<!-- Recent games will be populated here -->
				</div>
			</div>
		</div>
	</div>

	<script src="/app.js"></script>
</body>

</html>